<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CSS Anchor</title>
  </head>
  <body>
    <div id="app">
      <div class="tooltip-demo">
        <div class="buttons-column">
          <div class="row-wrapper">
            <div class="button-wrapper">
              <button class="button" type="button" style="--anchor-name: --btn-top">
                Сверху
              </button>
            </div>

            <div class="code-example flow">
              <div class="code-example__block" data-lang="html">
                <pre>
&lt;button class="button" style="--anchor-name: --btn-top"&gt;
  Сверху
&lt;/button&gt;

&lt;div class="tooltip-hint tooltip-hint-top" style="--anchor-name: --btn-top"&gt;
  Этот тултип показывается сверху
&lt;/div&gt;
                </pre>
              </div>
              <div class="code-example__block" data-lang="css">
                <pre>
.tooltip-hint-top {
  position-area: top center;
}
                </pre>
              </div>
            </div>
          </div>

          <div class="row-wrapper">
            <div class="button-wrapper">
              <button class="button" type="button" style="--anchor-name: --btn-left">
                Слева
              </button>
            </div>

            <div class="code-example flow">
              <div class="code-example__block" data-lang="html">
                <pre>
&lt;button class="button" style="--anchor-name: --btn-left"&gt;
  Слева
&lt;/button&gt;

&lt;div class="tooltip-hint tooltip-hint-left" style="--anchor-name: --btn-left"&gt;
  Этот тултип показывается слева, а ещё он в ширину самой кнопки
&lt;/div&gt;
                </pre>
              </div>
              <div class="code-example__block" data-lang="css">
                <pre>
.tooltip-hint-left {
  width: anchor-size(var(--anchor-name) width);
  position-area: left center;
}
                </pre>
              </div>
            </div>
          </div>

          <div class="row-wrapper">
            <div class="button-wrapper">
              <button class="button" type="button" style="--anchor-name: --btn-right">
                Справа
              </button>
            </div>

            <div class="code-example flow">
              <div class="code-example__block" data-lang="html">
                <pre>
&lt;button class="button" style="--anchor-name: --btn-right"&gt;
  Справа
&lt;/button&gt;

&lt;div class="tooltip-hint tooltip-hint-right" style="--anchor-name: --btn-right"&gt;
  Этот тултип показывается справа сверху и равен высоте кнопки
&lt;/div&gt;
                </pre>
              </div>
              <div class="code-example__block" data-lang="css">
                <pre>
.tooltip-hint-right {
  height: anchor-size(var(--anchor-name) height);
  position-area: right top;
}
                </pre>
              </div>
            </div>
          </div>

          <div class="row-wrapper">
            <div class="button-wrapper">
              <button class="button" type="button" style="--anchor-name: --btn-bottom">
                Снизу
              </button>
            </div>

            <div class="code-example flow">
              <div class="code-example__block" data-lang="html">
                <pre>
&lt;button class="button" style="--anchor-name: --btn-bottom"&gt;
  Снизу
&lt;/button&gt;

&lt;div class="tooltip-hint tooltip-hint-bottom" style="--anchor-name: --btn-bottom"&gt;
  А у этого тултипа очень много текста. Он показывается снизу, под самой кнопкой... Или не снизу?!
&lt;/div&gt;
                </pre>
              </div>
              <div class="code-example__block" data-lang="css">
                <pre>
.tooltip-hint-bottom {
  width: calc(anchor-size(var(--anchor-name) width) * 2);
  position-area: bottom center;
  position-try-fallbacks: bottom, top;
}
                </pre>
              </div>
            </div>
          </div>

        </div>

        <div class="flow">
          <div class="code-example flow" >
            <div class="code-example__block" data-lang="css" data-code-variant="shared">
              <pre>
.button {
  &::after {
    anchor-name: var(--anchor-name);
    visibility: hidden;
  }

  &:hover,
  &:focus-visible {
    &::after {
      visibility: visible;
    }
  }
}

.tooltip-hint {
  position: absolute;
  position-anchor: var(--anchor-name);
  position-visibility: anchors-visible;
}
              </pre>
            </div>
          </div>

          <div class="form">
            <label class="form-element">
              <input class="radio-button" type="radio" name="tooltip-mode" value="interactive" checked>
              <span class="form-label">Видно при ховере</span>
            </label>
            <label class="form-element">
              <input class="radio-button" type="radio" name="tooltip-mode" value="always-visible">
              <span class="form-label">Видно всегда</span>
            </label>
          </div>
        </div>
      </div>
    </div>

    <!-- Anchors -->

    <div class="tooltip-hint tooltip-hint-top" style="--anchor-name: --btn-top">
      Этот тултип показывается сверху
    </div>

    <div class="tooltip-hint tooltip-hint-left" style="--anchor-name: --btn-left">
      Этот тултип показывается слева, а ещё он в ширину самой кнопки
    </div>

    <div class="tooltip-hint tooltip-hint-right" style="--anchor-name: --btn-right">
      Этот тултип показывается справа сверху и равен высоте кнопки
    </div>

    <div class="tooltip-hint tooltip-hint-bottom" style="--anchor-name: --btn-bottom">
      А у этого тултипа очень много текста. Он показывается снизу, под самой кнопкой... Или не снизу?!
    </div>

    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
